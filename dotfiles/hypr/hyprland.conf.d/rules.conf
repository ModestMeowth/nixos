# Smart Gaps
workspace = w[tv1]s[false], gapsout:0, gapsin:0
workspace = f[1]s[false], gapsout:0, gapsin:0

windowrule = suppress_event maximize, match:class .*
windowrule = tag +default-opacity, match:class .*
windowrule = no_focus on, match:class ^$, match:title ^$, match:xwayland 1, match:float 1, match:fullscreen 0, match:pin 0

windowrule = opacity 0.97 0.9, match:tag default-opacity

# Terminals
windowrule = tag +terminal, match:class (Alacritty|kitty|com.mitchellh.ghostty)
windowrule = tag -default-opacity, match:tag terminal
windowrule = opacity 0.97 0.9, match:tag terminal

# Walker
layerrule = no_anim on, match:namespace walker

# Bitwarden
windowrule = no_screen_share on, match:class ^(Bitwarden)$
windowrule = tag +floating-window, match:class ^(Bitwarden)$

# Bitwarden Chrome Extension
windowrule = no_screen_share on, match:class chrome-nngceckbapebfimnlniiiahkandclblb-.+
windowrule = tag +floating-window, match:class chrome-nngceckbapebfimnlniiiahkandclblb-.+

# Webcam overlay for screen recording
windowrule = float on, match:title WebcamOverlay
windowrule = pin on, match:title WebcamOverlay
windowrule = no_initial_focus on, match:title WebcamOverlay
windowrule = no_dim on, match:title WebcamOverlay
windowrule = move (monitor_w-window_w-40) (monitor_h*0.04), match:title WebcamOverlay


# Browser types
windowrule = tag +chromium-based-browser, match:class ((google-)?[cC]hrom(e|ium)|[bB]rave-browser|[mM]icrosof-edge|Vivalid-stable|helium)
windowrule = tag +firefox-based-browser, match:class ([fF]irefox|zen|librewolf)
windowrule = tag -default-opacity, match:tag chromium-based-browser
windowrule = tag -default-opacity, match:tag firefox-based-browser

windowrule = tag -chromium-based-browser, match:class (chrome-youtube.com__-.+|chrome-app.zoom.us__wc_home-.+)
windowrule = tag -default-opacity, match:class (chrome-youtube.com__-.+|chrome-app.zoom.us__wc_home-.+)

windowrule = tile on, match:tag chromium-based-browser

windowrule = opacity 1.0 0.97, match:tag chromium-based-browser
windowrule = opacity 1.0 0.97, match:tag firefox-based-browser

# Float Steam
windowrule = float on, match:class steam
windowrule = center on, match:class steam, match:title Steam
windowrule = tag -default-opacity , match:class steam.*
windowrule = opacity 1 1, match:class steam.*
windowrule = size 1100 700, match:class steam, match:title Steam
windowrule = size 400 800, match:class steam, match:title Friends List
windowrule = idle_inhibit fullscreen, match:class steam

# RetroArch
windowrule = fullscreen on, match:class com.libretro.RetroArch
windowrule = tag -default-opacity, match:class com.libretroRetroArch
windowrule = opacity 1 1, match:class com.libretroRetroArch
windowrule = idle_inhibit fullscreen,  match:class com.libretroRetroArch

# Picture-in-picture overlays
windowrule = tag +pip, match:title (Picture.?in.?[Pp]icture)
windowrule = tag -default-opacity, match:tag pip
windowrule = float on, match:tag pip
windowrule = pin on, match:tag pip
windowrule = size 600 338, match:tag pip
windowrule = keep_aspect_ratio on, match:tag pip
windowrule = border_size 0, match:tag pip
windowrule = opacity 1 1, match:tag pip
windowrule = move (monitor_w-window_w-40) (monitor_h*0.04), match:tag pip

# Floating windows
windowrule = float on, match:tag floating-window
windowrule = center on, match:tag floating-window
windowrule = size 875 600, match:tag floating-window

windowrule = tag +floating-window, match:class (org.meowth.wiremix|mpv)
windowrule = tag +floating-window, match:class (xdg-portal-gtk|org.gnome.Nautilus), match:title ^(Open.*Files?|Open [F|f]older.*|Save.*Files?|Save.*As|Save|All Files|.*wants to [open|save]*|[C|c]hoose.*)
windowrule = float on, match:class org.gnomeCalculator
windowrule = float on, match:class org.kde.kcalc

# Prevent idling while open
windowrule = idle_inhibit always, match:tag noidle

# No transparency on media windows
windowrule = tag -default-opacity, match:class ^(zoom|vlc|org.kde.kdenlive|com.obsproject.Studio|com.github.PintaProject.Pinta|imv|org.gnome.NautilusPreviewer)$
windowrule = opacity 1 1, match:class ^(zoom|vlc|org.kde.kdenlive|com.obsproject.Studio|com.github.PintaProject.Pinta|imv|org.gnome.NautilusPreviewer)$

# Fullscreen screensaver
windowrule = fullscreen on, match:class dev.meowth.screensaver
windowrule = float on, match:class dev.meowth.screensaver
